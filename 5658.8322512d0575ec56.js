"use strict";(self.webpackChunkintswap_frontend=self.webpackChunkintswap_frontend||[]).push([[5658],{5658:(U,_,p)=>{p.r(_),p.d(_,{NftModule:()=>B});var t=p(8692),g=p(7976),u=p(2673),h=p(1528),x=p(8168),n=p(4537),y=p(1730),S=p(9376),M=p(9638),z=p(3114),v=p(3331);function P(i,s){if(1&i&&(n.ynx(0),n.TgZ(1,"h2"),n._uU(2,"Details"),n.qZA(),n._UZ(3,"div",12),n.TgZ(4,"div",13),n._uU(5,"CONTRACT ADDRESS"),n.qZA(),n.TgZ(6,"div",14)(7,"a",15),n._uU(8),n.qZA()(),n.TgZ(9,"div",13),n._uU(10,"TOKEN ID"),n.qZA(),n.TgZ(11,"div",14),n._uU(12),n.qZA(),n.TgZ(13,"div",13),n._uU(14,"ROYALTY"),n.qZA(),n.TgZ(15,"div",14),n._uU(16),n.ALo(17,"number"),n.qZA(),n.TgZ(18,"div",13),n._uU(19,"CREATOR"),n.qZA(),n.TgZ(20,"div",14)(21,"a",15),n._uU(22),n.qZA()(),n.BQk()),2&i){const o=n.oxw().ngIf,c=n.oxw();n.xp6(7),n.Q6J("href","https://goerli.etherscan.io/address/"+c.collectionAddress,n.LSH),n.xp6(1),n.Oqu(c.collectionAddress),n.xp6(4),n.Oqu(c.tokenId),n.xp6(4),n.hij("",n.xi3(17,6,c.royaltyRatio,"1.2-4")," %"),n.xp6(5),n.Q6J("href","https://goerli.etherscan.io/address/"+o.pair.collection.creator,n.LSH),n.xp6(1),n.Oqu(o.pair.collection.creator)}}function T(i,s){1&i&&n._UZ(0,"nz-skeleton",16),2&i&&n.Q6J("nzActive",!0)}const A=function(i,s){return["/","app","pool",i,s]},O=function(i,s){return["/","app","swap",i,s]},N=function(i){return{prevSelectTokenId:i}};function k(i,s){if(1&i&&(n.ynx(0),n.TgZ(1,"div",17),n._uU(2),n.qZA(),n._UZ(3,"div",12),n.TgZ(4,"div",18),n._uU(5,"Pool: "),n.TgZ(6,"a",19),n._uU(7),n.qZA()(),n.TgZ(8,"div",20),n._uU(9,"Pool Address: "),n.TgZ(10,"a",15),n._uU(11),n.qZA()(),n.TgZ(12,"div",21),n._uU(13,"Price: "),n.TgZ(14,"span"),n._uU(15),n.ALo(16,"number"),n.qZA(),n.TgZ(17,"button",22),n._uU(18,"Buy Now"),n.qZA()(),n.BQk()),2&i){const o=n.oxw().ngIf,c=n.oxw();n.xp6(2),n.Oqu((null==o.nftInfo?null:o.nftInfo.name)||o.pair.collection.name+" #"+c.tokenId),n.xp6(4),n.Q6J("routerLink",n.WLB(13,A,o.pair.collection.address,o.pair.token.address)),n.xp6(1),n.AsE("",o.pair.collection.symbol,"-",o.pair.token.symbol,""),n.xp6(3),n.Q6J("href","https://goerli.etherscan.io/address/"+o.pair.address,n.LSH),n.xp6(1),n.Oqu(o.pair.address),n.xp6(4),n.AsE(" ",n.xi3(16,10,c.formatTokenValue(o.pair.price,o.pair.token.decimals),"1.2-2")," ",o.pair.token.symbol,""),n.xp6(2),n.Q6J("routerLink",n.WLB(16,O,o.pair.collection.address,o.pair.token.address))("queryParams",n.VKq(19,N,c.tokenId))}}function b(i,s){1&i&&n._UZ(0,"nz-skeleton",16),2&i&&n.Q6J("nzActive",!0)}function C(i,s){if(1&i&&(n.TgZ(0,"div",25)(1,"div",26),n._uU(2),n.qZA(),n._UZ(3,"span",27),n.TgZ(4,"div",28),n._uU(5),n.qZA()()),2&i){const o=s.$implicit;n.xp6(2),n.Oqu(o.trait_type),n.xp6(3),n.Oqu(o.value)}}function w(i,s){1&i&&(n.TgZ(0,"div",29),n._uU(1," No Attributes. "),n.qZA())}const E=function(){return[]};function I(i,s){if(1&i&&(n.ynx(0),n.YNc(1,C,6,2,"div",23),n.YNc(2,w,2,0,"div",24),n.BQk()),2&i){const o=n.oxw().ngIf;n.xp6(1),n.Q6J("ngForOf",(null==o.nftInfo?null:o.nftInfo.attributes)||n.DdM(2,E)),n.xp6(1),n.Q6J("ngIf",!(null!=o.nftInfo&&o.nftInfo.attributes)||0==(null==o.nftInfo||null==o.nftInfo.attributes?null:o.nftInfo.attributes.length))}}function Z(i,s){1&i&&n._UZ(0,"nz-skeleton",16),2&i&&n.Q6J("nzActive",!0)}function a(i,s){if(1&i){const o=n.EpF();n.ynx(0),n.TgZ(1,"div",1)(2,"div",2)(3,"button",3),n.NdJ("click",function(){n.CHM(o);const m=n.oxw();return n.KtG(m.goBack())}),n.TgZ(4,"mat-icon",4),n._uU(5,"arrow_back"),n.qZA()()(),n.TgZ(6,"div")(7,"div",5),n._UZ(8,"img",6),n.qZA(),n.TgZ(9,"div",7),n.YNc(10,P,23,9,"ng-container",8),n.YNc(11,T,1,1,"ng-template",null,9,n.W1O),n.qZA()(),n.TgZ(13,"div")(14,"div",10),n.YNc(15,k,19,21,"ng-container",8),n.YNc(16,b,1,1,"ng-template",null,9,n.W1O),n.qZA(),n.TgZ(18,"div",11)(19,"h2"),n._uU(20,"Properties"),n.qZA(),n._UZ(21,"div",12),n.YNc(22,I,3,3,"ng-container",8),n.YNc(23,Z,1,1,"ng-template",null,9,n.W1O),n.qZA()()(),n.BQk()}if(2&i){const o=s.ngIf,c=n.MAs(12),m=n.oxw();n.xp6(8),n.Q6J("src",m.formatUrl(null==o.nftInfo?null:o.nftInfo.image)||"/assets/imgs/mockNft.png",n.LSH)("alt",null==o.nftInfo?null:o.nftInfo.name),n.xp6(2),n.Q6J("ngIf",o.pair)("ngIfElse",c),n.xp6(5),n.Q6J("ngIf",o.pair)("ngIfElse",c),n.xp6(7),n.Q6J("ngIf",o.pair)("ngIfElse",c)}}const l=function(i,s){return{nftInfo:i,pair:s}},r=[{path:"",component:(()=>{class i{constructor(o,c,m,D){this.location=o,this.route=c,this.web3Service=m,this.cacheService=D,this.royaltyRatio=0,this.nftInfo$=this.route.paramMap.pipe((0,h.w)(d=>(this.collectionAddress=d.get("collectionAddress"),this.tokenId=d.get("tokenId"),this.web3Service.getNftMetadata(this.collectionAddress,this.tokenId)))),this.pair$=this.route.paramMap.pipe((0,h.w)(d=>{const L=d.get("collectionAddress"),q=d.get("tokenId");return this.cacheService.getPairByTokenId(L,q)}),(0,x.b)(d=>d&&this.fetchRoyalty(d.address)))}ngOnInit(){}fetchRoyalty(o){this.web3Service.invokeContract("IntswapV1Factory","getRoyaltyInfo",[o]).then(c=>this.royaltyRatio=c[1]/10**18)}formatTokenValue(o,c){return(0,u.formatUnits)(o,c)}formatUrl(o){if(o)return o.replace("ipfs://","https://ipfs.io/ipfs/")}goBack(){this.location.back()}}return i.\u0275fac=function(o){return new(o||i)(n.Y36(t.Ye),n.Y36(g.gz),n.Y36(y.U),n.Y36(S.Q))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-nft"]],decls:3,vars:8,consts:[[4,"ngIf"],[1,"nft-info-wrapper"],[1,"nft-info-header"],["mat-icon-button","","color","primary",3,"click"],["color","primary"],[1,"nft-img"],[3,"src","alt"],[1,"nft-detail"],[4,"ngIf","ngIfElse"],["skeleton",""],[1,"nft-info"],[1,"nft-properties"],[1,"divider"],[1,"detail-label"],[1,"detail-value"],["target","_blank",3,"href"],[3,"nzActive"],[1,"nft-name"],[1,"nft-pool-name"],[3,"routerLink"],[1,"nft-pool-address"],[1,"nft-price"],["mat-flat-button","","color","primary",3,"routerLink","queryParams"],["class","property-card",4,"ngFor","ngForOf"],["style","width:100%;height: 30vh;",4,"ngIf"],[1,"property-card"],[1,"property-name"],[1,"spacer"],[1,"property-value"],[2,"width","100%","height","30vh"]],template:function(o,c){1&o&&(n.YNc(0,a,25,8,"ng-container",0),n.ALo(1,"async"),n.ALo(2,"async")),2&o&&n.Q6J("ngIf",n.WLB(5,l,n.lcZ(1,1,c.nftInfo$),n.lcZ(2,3,c.pair$)))},dependencies:[t.sg,t.O5,g.rH,g.yS,M.lW,z.ng,v.Hw,t.Ov,t.JJ],styles:[".nft-info-wrapper[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:8px;box-shadow:0 2px 4px -1px #0003;background:#fff;max-width:60vw;width:100%;margin:1rem auto;min-height:80vh;padding:12px;display:grid;grid-template-columns:2fr 3fr;column-gap:24px}.nft-info-header[_ngcontent-%COMP%]{grid-column-start:span 2}.nft-info-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid rgb(255,199,228);margin-bottom:12px}.nft-img[_ngcontent-%COMP%]{width:100%;overflow:hidden;display:flex;justify-content:center;align-items:center;background:#fff;border-radius:8px}.nft-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110%;height:110%}.nft-detail[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr 1fr;padding:12px;border-radius:8px;border:1px solid rgb(255,228,242);margin:24px 0 0;background:#fff;row-gap:12px;column-gap:24px}.nft-detail[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .nft-detail[_ngcontent-%COMP%]   nz-skeleton[_ngcontent-%COMP%], .nft-detail[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{grid-column-start:span 2;margin:0}.nft-detail[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;align-self:end;text-align:end;padding-right:12px}.nft-info[_ngcontent-%COMP%]{padding:12px;width:100%;border-radius:8px;border:1px solid rgb(255,228,242);background:#fff}.nft-info[_ngcontent-%COMP%]   .nft-name[_ngcontent-%COMP%]{font-size:36px;font-weight:bolder}.nft-info[_ngcontent-%COMP%]   .nft-pool-name[_ngcontent-%COMP%], .nft-info[_ngcontent-%COMP%]   .nft-pool-address[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-bottom:12px}.nft-info[_ngcontent-%COMP%]   .nft-pool-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nft-info[_ngcontent-%COMP%]   .nft-pool-address[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:100;margin:0 12px}.nft-info[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.nft-info[_ngcontent-%COMP%]   .nft-price[_ngcontent-%COMP%]{line-height:28px;font-size:18px;font-weight:700;margin-bottom:12px;display:flex;justify-content:flex-start;align-items:flex-end}.nft-info[_ngcontent-%COMP%]   .nft-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;margin:0 12px;font-weight:bolder}.nft-info[_ngcontent-%COMP%]   .nft-price[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:24px;color:#fff}.nft-properties[_ngcontent-%COMP%]{padding:12px;margin-top:24px;width:100%;border-radius:8px;border:1px solid rgb(255,228,242);background:#fff;display:grid;grid-template-columns:1fr 1fr 1fr;column-gap:12px;row-gap:12px}.nft-properties[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .nft-properties[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{grid-column-start:span 3;margin:0}.nft-properties[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]{width:100%;border-radius:8px;background:rgb(255,228,242);padding:12px;display:flex;align-items:center;justify-content:center;flex-direction:column}.nft-properties[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-name[_ngcontent-%COMP%]{font-weight:700}.nft-properties[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-value[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#5d2e4f}.divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:6px 0 18px;background:linear-gradient(90deg,#fff 0%,rgb(255,228,242) 10%,rgb(255,228,242) 90%,#fff 100%)}"]}),i})()}];let f=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[g.Bz.forChild(r),g.Bz]}),i})(),B=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[t.ez,f,M.ot,z.H0,v.Ps]}),i})()},3114:(U,_,p)=>{p.d(_,{H0:()=>Z,Xw:()=>k,ng:()=>I,yg:()=>w,yx:()=>C});var t=p(4537),g=p(6792),u=p(8692),h=p(4762),x=p(5076);const y=["nzType","avatar"],S=["nzType","input"];function z(a,l){if(1&a&&(t.TgZ(0,"div",5),t._UZ(1,"nz-skeleton-element",6),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("nzSize",e.avatar.size||"default")("nzShape",e.avatar.shape||"circle")}}function v(a,l){if(1&a&&t._UZ(0,"h3",7),2&a){const e=t.oxw(2);t.Udp("width",e.toCSSUnit(e.title.width))}}function P(a,l){if(1&a&&t._UZ(0,"li"),2&a){const e=l.index,r=t.oxw(3);t.Udp("width",r.toCSSUnit(r.widthList[e]))}}function T(a,l){if(1&a&&(t.TgZ(0,"ul",8),t.YNc(1,P,1,2,"li",9),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.rowsList)}}function A(a,l){if(1&a&&(t.ynx(0),t.YNc(1,z,2,2,"div",1),t.TgZ(2,"div",2),t.YNc(3,v,1,2,"h3",3),t.YNc(4,T,2,1,"ul",4),t.qZA(),t.BQk()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!!e.nzAvatar),t.xp6(2),t.Q6J("ngIf",!!e.nzTitle),t.xp6(1),t.Q6J("ngIf",!!e.nzParagraph)}}function O(a,l){1&a&&(t.ynx(0),t.Hsn(1),t.BQk())}const N=["*"];let k=(()=>{class a{constructor(){this.nzActive=!1,this.nzBlock=!1}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275dir=t.lG2({type:a,selectors:[["nz-skeleton-element"]],hostAttrs:[1,"ant-skeleton","ant-skeleton-element"],hostVars:4,hostBindings:function(e,r){2&e&&t.ekj("ant-skeleton-active",r.nzActive)("ant-skeleton-block",r.nzBlock)},inputs:{nzActive:"nzActive",nzType:"nzType",nzBlock:"nzBlock"}}),(0,h.gn)([(0,g.yF)()],a.prototype,"nzBlock",void 0),a})(),C=(()=>{class a{constructor(){this.nzShape="circle",this.nzSize="default",this.styleMap={}}ngOnChanges(e){if(e.nzSize&&"number"==typeof this.nzSize){const r=`${this.nzSize}px`;this.styleMap={width:r,height:r,"line-height":r}}else this.styleMap={}}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["nz-skeleton-element","nzType","avatar"]],inputs:{nzShape:"nzShape",nzSize:"nzSize"},features:[t.TTD],attrs:y,decls:1,vars:9,consts:[[1,"ant-skeleton-avatar",3,"ngStyle"]],template:function(e,r){1&e&&t._UZ(0,"span",0),2&e&&(t.ekj("ant-skeleton-avatar-square","square"===r.nzShape)("ant-skeleton-avatar-circle","circle"===r.nzShape)("ant-skeleton-avatar-lg","large"===r.nzSize)("ant-skeleton-avatar-sm","small"===r.nzSize),t.Q6J("ngStyle",r.styleMap))},dependencies:[u.PC],encapsulation:2,changeDetection:0}),a})(),w=(()=>{class a{constructor(){this.nzSize="default"}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["nz-skeleton-element","nzType","input"]],inputs:{nzSize:"nzSize"},attrs:S,decls:1,vars:4,consts:[[1,"ant-skeleton-input"]],template:function(e,r){1&e&&t._UZ(0,"span",0),2&e&&t.ekj("ant-skeleton-input-lg","large"===r.nzSize)("ant-skeleton-input-sm","small"===r.nzSize)},encapsulation:2,changeDetection:0}),a})(),I=(()=>{class a{constructor(e,r,f){this.cdr=e,this.nzActive=!1,this.nzLoading=!0,this.nzRound=!1,this.nzTitle=!0,this.nzAvatar=!1,this.nzParagraph=!0,this.rowsList=[],this.widthList=[],r.addClass(f.nativeElement,"ant-skeleton")}toCSSUnit(e=""){return(0,g.WX)(e)}getTitleProps(){const e=!!this.nzAvatar,r=!!this.nzParagraph;let f="";return!e&&r?f="38%":e&&r&&(f="50%"),{width:f,...this.getProps(this.nzTitle)}}getAvatarProps(){return{shape:this.nzTitle&&!this.nzParagraph?"square":"circle",size:"large",...this.getProps(this.nzAvatar)}}getParagraphProps(){const e=!!this.nzAvatar,r=!!this.nzTitle,f={};return(!e||!r)&&(f.width="61%"),f.rows=!e&&r?3:2,{...f,...this.getProps(this.nzParagraph)}}getProps(e){return e&&"object"==typeof e?e:{}}getWidthList(){const{width:e,rows:r}=this.paragraph;let f=[];return e&&Array.isArray(e)?f=e:e&&!Array.isArray(e)&&(f=[],f[r-1]=e),f}updateProps(){this.title=this.getTitleProps(),this.avatar=this.getAvatarProps(),this.paragraph=this.getParagraphProps(),this.rowsList=[...Array(this.paragraph.rows)],this.widthList=this.getWidthList(),this.cdr.markForCheck()}ngOnInit(){this.updateProps()}ngOnChanges(e){(e.nzTitle||e.nzAvatar||e.nzParagraph)&&this.updateProps()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(t.SBq))},a.\u0275cmp=t.Xpm({type:a,selectors:[["nz-skeleton"]],hostVars:6,hostBindings:function(e,r){2&e&&t.ekj("ant-skeleton-with-avatar",!!r.nzAvatar)("ant-skeleton-active",r.nzActive)("ant-skeleton-round",!!r.nzRound)},inputs:{nzActive:"nzActive",nzLoading:"nzLoading",nzRound:"nzRound",nzTitle:"nzTitle",nzAvatar:"nzAvatar",nzParagraph:"nzParagraph"},exportAs:["nzSkeleton"],features:[t.TTD],ngContentSelectors:N,decls:2,vars:2,consts:[[4,"ngIf"],["class","ant-skeleton-header",4,"ngIf"],[1,"ant-skeleton-content"],["class","ant-skeleton-title",3,"width",4,"ngIf"],["class","ant-skeleton-paragraph",4,"ngIf"],[1,"ant-skeleton-header"],["nzType","avatar",3,"nzSize","nzShape"],[1,"ant-skeleton-title"],[1,"ant-skeleton-paragraph"],[3,"width",4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(t.F$t(),t.YNc(0,A,5,3,"ng-container",0),t.YNc(1,O,2,0,"ng-container",0)),2&e&&(t.Q6J("ngIf",r.nzLoading),t.xp6(1),t.Q6J("ngIf",!r.nzLoading))},dependencies:[u.sg,u.O5,k,C],encapsulation:2,changeDetection:0}),a})(),Z=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[x.vT,u.ez]}),a})()}}]);